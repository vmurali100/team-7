<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form action="">
        <label for="">Flower</label>
        <input type="text" name="" id="name"> <br> <br>
        <label for="">Color</label>
        <input type="text" name="" id="color"> <br><br>
        <label for="">smell</label>
        <input type="text" name="" id="smell"> <br><br>
        <label for="">Price</label>
        <input type="text" name="" id="price"> <br> <br>
        <label for="">City</label>
        <input type="text" name="" id="city"> <br> <br>
        <label for="">State</label>
        <input type="text" name="" id="state"> <br> <br>

        <button type="button" onclick="Register()" id="adduser">Enter</button>
        <button type="button" onclick="update()" id="updateuser" style="display: none;">Update user</button>

    </form>

    <table border="1">
        <thead>
            <tr>
                <th>Name</th>
                <th>Color</th>
                <th>smell</th>
                <th>price</th>
                <th>City</th>
                <th>State</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
        
    </table>

    <script>

        // Creat a user 
        var fruits = []
        var index;
        if (fruits == null) {
            fruits = []
        }
        
        function Register() {

            var fruit = {
                name: "",
                color: "",
                smell: "",
                price: "",
                city: "",
                state: ""
            }

            for (a in fruit) {
                fruit[a] = document.getElementById(a).value
            }
            fruits.push(fruit)
            displaydetails()
            clearing(fruit)

        }

        // Read a user 
            function displaydetails(){
                document.querySelector("tbody").innerHTML = ""

                fruits.forEach((value1,i)=>{
                    var mytr = document.createElement("tr")
                for (a in value1) {
                    var mytd = document.createElement("td")
                    mytd.innerHTML =value1[a]
                    mytr.appendChild(mytd)
                }
                document.querySelector("tbody").appendChild(mytr)

                var edittd = document.createElement("td")
                var deltd = document.createElement("td")
                mytr.appendChild(edittd)
                mytr.appendChild(deltd)

                var editbtn = document.createElement("button")
                editbtn.innerHTML = "edit"
                editbtn.setAttribute("onclick", "edituser(" + i + ")")
                var delbtn = document.createElement("button")
                delbtn.innerHTML = "delete"
                delbtn.setAttribute("onclick", "deleteuser(" + i + ")")
                edittd.appendChild(editbtn)
                deltd.appendChild(delbtn)
                })
            
            }
            displaydetails()


              //  edit  a user 
        function edituser(i) {
            index = i
            document.getElementById("adduser").style.display = "none"
            document.getElementById("updateuser").style.display = "block"

            var ravi = fruits[i]
            for (a in fruits[i]) {
                document.getElementById(a).value = ravi[a]
            }

        }


         //  delete a user 
         function deleteuser(i) {
            fruits.splice(i, 1)
            displaydetails()

        }


        // update a user 
        function update() {
            var fruit = {
                name: "",
                color: "",
                smell: "",
                price: "",
                city: "",
                state: ""
            }


            for (a in fruit) {
                fruit[a] = document.getElementById(a).value
            }

            fruits[index] = fruit
            displaydetails()
            clearing(fruit)
            document.getElementById("adduser").style.display = "block"
            document.getElementById("updateuser").style.display = "none"

        }


            // Clear a user 
            function clearing(fruit) {
            for (a in fruit) {
                document.getElementById(a).value = ""
            }
        }

    </script>
</body>

</html>