<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form action="">
        <label for="">Name</label>
        <input type="text" name="" id="name"> <br> <br>
        <label for="">Course</label>
        <input type="text" name="" id="course"> <br><br>
        <label for="">Subject</label>
        <input type="text" name="" id="subject"> <br><br>
        <label for="">Phone</label>
        <input type="text" name="" id="phone"> <br> <br>
        <label for="">Place</label>
        <input type="text" name="" id="place"> <br> <br>
        <label for="">City</label>
        <input type="text" name="" id="city"> <br> <br>
        <label for="">State</label>
        <input type="text" name="" id="state"> <br> <br>

        <button type="button" onclick="Register()" id="adduser">Enter</button>
        <button type="button" onclick="update()" id="updateuser" style="display: none;">Update user</button>

    </form>

    <table border="1">
        <thead>
            <tr>
                <th>Name</th>
                <th>Course</th>
                <th>Subject</th>
                <th>Phone</th>
                <th>Place</th>
                <th>City</th>
                <th>State</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
        
    </table>

    <script>

        var other = []
        var index;
        if (other == null) {
            other = []
        }
        
        function Register() {

            var person = {
                name: "",
                course: "",
                subject: "",
                phone: "",
                place: "",
                city: "",
                state: ""
            }

            for (a in person) {
                person[a] = document.getElementById(a).value
            }
            other.push(person)
            displaydetails()
            clearing(person)

        }

        
            function displaydetails(){
                document.querySelector("tbody").innerHTML = ""

                other.forEach((value1,i)=>{
                    var mytr = document.createElement("tr")
                for (a in value1) {
                    var mytd = document.createElement("td")
                    mytd.innerHTML =value1[a]
                    mytr.appendChild(mytd)
                }
                document.querySelector("tbody").appendChild(mytr)

                var edittd = document.createElement("td")
                var deltd = document.createElement("td")
                mytr.appendChild(edittd)
                mytr.appendChild(deltd)

                var editbtn = document.createElement("button")
                editbtn.innerHTML = "edit"
                editbtn.setAttribute("onclick", "edituser(" + i + ")")
                var delbtn = document.createElement("button")
                delbtn.innerHTML = "delete"
                delbtn.setAttribute("onclick", "deleteuser(" + i + ")")
                edittd.appendChild(editbtn)
                deltd.appendChild(delbtn)
                })
            
            }
            displaydetails()

        function edituser(i) {
            index = i
            document.getElementById("adduser").style.display = "none"
            document.getElementById("updateuser").style.display = "block"

            var ravi = other[i]
            for (a in other[i]) {
                document.getElementById(a).value = ravi[a]
            }

        }

         function deleteuser(i) {
            other.splice(i, 1)
            displaydetails()

        }
        function update() {
            var person = {
                name: "",
                course: "",
                subject: "",
                phone: "",
                place: "",
                city: "",
                state: ""
            }

            for (a in person) {
                person[a] = document.getElementById(a).value
            }

            other[index] = person
            displaydetails()
            clearing(person)
            document.getElementById("adduser").style.display = "block"
            document.getElementById("updateuser").style.display = "none"

        }

            function clearing(person) {
            for (a in person) {
                document.getElementById(a).value = ""
            }
        }

    </script>
</body>

</html>